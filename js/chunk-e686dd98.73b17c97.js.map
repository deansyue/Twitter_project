{"version":3,"sources":["webpack:///./src/components/UserCard.vue?436c","webpack:///./src/components/UserCardEdit.vue?b312","webpack:///src/components/UserCardEdit.vue","webpack:///./src/components/UserCardEdit.vue?11e2","webpack:///./src/components/UserCardEdit.vue","webpack:///src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?ab58","webpack:///./src/components/UserCard.vue","webpack:///./src/apis/users.js","webpack:///./src/views/UserSelf.vue?1b8c","webpack:///src/views/UserSelf.vue","webpack:///./src/views/UserSelf.vue?9db9","webpack:///./src/views/UserSelf.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","back","attrs","_v","_s","userData","name","tweetCount","directives","rawName","value","$route","asd","zxc","expression","_f","cover","avatar","showEditModal","isNotice","isProcessing","deleteFollow","id","addFollow","account","introduction","params","followingCount","follwerCount","staticRenderFns","hideEditModal","preventDefault","stopPropagation","handleSubmit","handleFileChange","clearCover","class","isInvalid","modifiers","domProps","target","composing","$set","trim","$forceUpdate","worLimitMessage","wordLimitCount","data","text","computed","input","number","length","methods","files","imageURL","window","URL","createObjectURL","currentUser","fire","icon","title","form","formData","FormData","statusText","$store","commit","user","$modal","hide","Toast","created","component","mixins","components","UserCardEdit","props","currentUserData","type","default","email","isFollowed","whichPage","require","watch","newValue","fetchUser","show","userId","status","Error","message","console","followingId","getToken","localStorage","getItem","getUser","apiHelper","get","headers","Authorization","getUserTweets","getUserReplies","getUserLikes","getFollowers","getFollowings","editInformation","put","signEdit","password","checkPassword","post","delete","getTopUser","activeTabs","selfTweet","push","tabNow","reply","like","UserCard","response","users"],"mappings":"gHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,QAAQC,UAAU,CAACN,EAAG,MAAM,CAACE,YAAY,QAAQK,MAAM,CAAC,IAAM,QAAQP,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIY,GAAG,IAAIZ,EAAIa,GAAGb,EAAIc,SAASC,MAAM,KAAKX,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,SAASE,YAAY,YAAYZ,EAAG,MAAM,CAACa,WAAW,CAAC,CAACF,KAAK,OAAOG,QAAQ,SAASC,MAAOlB,KAAKmB,OAAOL,OAAOf,EAAIqB,KAAKpB,KAAKmB,OAAOL,OAAOf,EAAIsB,IAAKC,WAAW,mDAAmDjB,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQK,MAAM,CAAC,IAAMX,EAAIwB,GAAG,aAAPxB,CAAqBA,EAAIc,SAASW,OAAO,IAAM,MAAMrB,EAAG,MAAM,CAACE,YAAY,aAAaK,MAAM,CAAC,IAAMX,EAAIwB,GAAG,aAAPxB,CAAqBA,EAAIc,SAASY,QAAQ,IAAM,MAAO1B,EAAa,UAAEI,EAAG,SAAS,CAACE,YAAY,eAAeC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI2B,mBAAmB,CAAC3B,EAAIY,GAAG,cAAcR,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUK,MAAM,CAAC,IAAM,GAAG,IAAM,MAAOX,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,SAASK,MAAM,CAAC,IAAM,GAAG,IAAM,IAAIJ,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAI4B,UAAW,MAAUxB,EAAG,MAAM,CAACE,YAAY,gBAAgBK,MAAM,CAAC,IAAM,GAAG,IAAM,IAAIJ,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAI4B,UAAW,MAAU5B,EAAIc,SAAmB,WAAEV,EAAG,SAAS,CAACE,YAAY,sBAAsBK,MAAM,CAAC,SAAWX,EAAI6B,cAActB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI8B,aAAa9B,EAAIc,SAASiB,OAAO,CAAC/B,EAAIY,GAAG,YAAYR,EAAG,SAAS,CAACE,YAAY,mBAAmBK,MAAM,CAAC,SAAWX,EAAI6B,cAActB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIgC,UAAUhC,EAAIc,SAASiB,OAAO,CAAC/B,EAAIY,GAAG,YAAYR,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,SAASC,SAASX,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIwB,GAAG,aAAPxB,CAAqBA,EAAIc,SAASmB,aAAa7B,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,SAASoB,iBAAiB9B,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,cAAc,CAACE,YAAY,SAASK,MAAM,CAAC,GAAK,CAAEI,KAAM,aAAcoB,OAAQ,CAAEJ,GAAI/B,EAAIc,SAASiB,OAAS,CAAC/B,EAAIY,GAAG,IAAIZ,EAAIa,GAAGb,EAAIwB,GAAG,iBAAPxB,CAAyBA,EAAIc,SAASsB,iBAAiB,QAAQpC,EAAIY,GAAG,SAASR,EAAG,cAAc,CAACE,YAAY,UAAUK,MAAM,CAAC,GAAK,CAAEI,KAAM,YAAaoB,OAAQ,CAAEJ,GAAI/B,EAAIc,SAASiB,OAAS,CAAC/B,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIwB,GAAG,iBAAPxB,CAAyBA,EAAIc,SAASuB,eAAe,QAAQrC,EAAIY,GAAG,UAAU,OAAOR,EAAG,iBAAiB,IAC96EkC,EAAkB,GCDlB,G,UAAS,WAAa,IAAItC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACO,MAAM,CAAC,KAAO,eAAe,QAAU,qBAAqB,MAAQ,IAAI,OAAS,IAAI,cAAe,IAAQ,CAACP,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeK,MAAM,CAAC,IAAM,IAAIJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIuC,oBAAoBnC,EAAG,KAAK,CAACJ,EAAIY,GAAG,YAAYR,EAAG,SAAS,CAACE,YAAY,aAAaK,MAAM,CAAC,KAAO,SAAS,KAAO,eAAe,SAAWX,EAAI6B,eAAe,CAAC7B,EAAIY,GAAG,UAAUR,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACE,YAAY,eAAeK,MAAM,CAAC,OAAS,GAAG,GAAK,gBAAgBJ,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOgC,iBAAiBhC,EAAOiC,kBAAyBzC,EAAI0C,aAAalC,MAAW,CAACJ,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACa,WAAW,CAAC,CAACF,KAAK,OAAOG,QAAQ,SAASC,MAAOnB,EAAS,MAAEuB,WAAW,UAAUjB,YAAY,QAAQK,MAAM,CAAC,IAAMX,EAAIyB,SAASrB,EAAG,QAAQ,CAACE,YAAY,SAASK,MAAM,CAAC,IAAM,WAAWP,EAAG,QAAQ,CAACO,MAAM,CAAC,KAAO,OAAO,GAAK,QAAQ,KAAO,QAAQ,OAAS,WAAWJ,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAI2C,iBAAiBnC,EAAQ,aAAaJ,EAAG,MAAM,CAACE,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAI4C,mBAAmBxC,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACa,WAAW,CAAC,CAACF,KAAK,OAAOG,QAAQ,SAASC,MAAOnB,EAAU,OAAEuB,WAAW,WAAWjB,YAAY,SAASK,MAAM,CAAC,IAAMX,EAAI0B,UAAUtB,EAAG,QAAQ,CAACE,YAAY,SAASK,MAAM,CAAC,IAAM,YAAYP,EAAG,QAAQ,CAACO,MAAM,CAAC,KAAO,OAAO,GAAK,SAAS,KAAO,SAAS,OAAS,WAAWJ,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOR,EAAI2C,iBAAiBnC,EAAQ,kBAAkBJ,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,QAAQ,CAACyC,MAAM,CAAC,QAAS,CAAEC,UAAW9C,EAAIe,KAAK+B,YAAanC,MAAM,CAAC,IAAM,SAAS,CAACX,EAAIY,GAAG,QAAQR,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACF,KAAK,QAAQG,QAAQ,eAAeC,MAAOnB,EAAIe,KAAS,KAAEQ,WAAW,YAAYwB,UAAU,CAAC,MAAO,KAAQpC,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,GAAK,QAAQqC,SAAS,CAAC,MAAShD,EAAIe,KAAS,MAAGR,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOyC,OAAOC,WAAqBlD,EAAImD,KAAKnD,EAAIe,KAAM,OAAQP,EAAOyC,OAAO9B,MAAMiC,SAAS,KAAO,SAAS5C,GAAQ,OAAOR,EAAIqD,qBAAqBjD,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIsD,gBAAgBtD,EAAIe,KAAM,QAAQX,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIuD,eAAevD,EAAIe,KAAM,UAAUX,EAAG,QAAQ,CAACyC,MAAM,CAAC,WAAY,QAAS,CAAEC,UAAW9C,EAAIkC,aAAaY,YAAanC,MAAM,CAAC,IAAM,iBAAiB,CAACX,EAAIY,GAAG,SAASR,EAAG,WAAW,CAACa,WAAW,CAAC,CAACF,KAAK,QAAQG,QAAQ,eAAeC,MAAOnB,EAAIkC,aAAiB,KAAEX,WAAW,oBAAoBwB,UAAU,CAAC,MAAO,KAAQpC,MAAM,CAAC,KAAO,eAAe,GAAK,gBAAgBqC,SAAS,CAAC,MAAShD,EAAIkC,aAAiB,MAAG3B,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOyC,OAAOC,WAAqBlD,EAAImD,KAAKnD,EAAIkC,aAAc,OAAQ1B,EAAOyC,OAAO9B,MAAMiC,SAAS,KAAO,SAAS5C,GAAQ,OAAOR,EAAIqD,qBAAqBjD,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIsD,gBAAgBtD,EAAIkC,aAAc,SAAS9B,EAAG,KAAK,CAACJ,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIuD,eAAevD,EAAIkC,aAAc,uBAC1oG,EAAkB,G,oCCkFP,GACbsB,OACE,MAAO,CAELzC,KAAMA,CACJ0C,KAAMA,GACNX,WAAWA,GAEbZ,aAAcA,CACZuB,KAAMA,GACNX,WAAWA,GAEbrB,MAAOA,GACPC,OAAQA,GACRG,cAAcA,IAGlB6B,SAAUA,IACZ,gCACIJ,kBACE,MAAO,CAACK,EAAOC,IACTD,EAAMF,KAAKI,OAASD,GACtBD,EAAMA,WAAYA,EACX,YAEPA,EAAMA,WAAYA,EACX,KAIbJ,iBAEE,MAAO,CAACI,EAAOC,IACTD,EAAMF,KAAKI,OAAS,EAAU,GAC1C,sBAIEC,QAASA,CACPnB,iBAAiBA,EAAQA,GACvB,MAAM,MAAZoB,GAAA,SAEM,GAAqB,IAAjBA,EAAMF,OAAc,CACtB,GAAc,UAAVF,EAAmB,OAAO1D,KAAKwB,MAAQ,GACnD,sCAGM,MAAMuC,EAAWC,OAAOC,IAAIC,gBAAgBJ,EAAM,IACpC,UAAVJ,EAAmB1D,KAAKwB,MAAQuC,EAC1C,+BAEIpB,aACE3C,KAAKwB,MAAQ,IAEf,mBAAmBjB,GACjB,IACE,MAAMuB,EAAK9B,KAAKmE,YAAYrC,GAC5B,GAAI9B,KAAKc,KAAK+B,WAAa7C,KAAKiC,aAAaY,UAC3C,OAAO,OAAMuB,KAAK,CAChBC,KAAMA,UACNC,MAAOA,YAGX,GAAItE,KAAKc,KAAK0C,KAAKI,OAAS,EAC1B,OAAO,OAAMQ,KAAK,CAChBC,KAAMA,UACNC,MAAOA,YAGX,MAAMC,EAAOhE,EAAOyC,OACdwB,EAAW,IAAIC,SAASF,GAE9BvE,KAAK4B,cAAe,EACpB,MAAM,WAAd8C,OAAAnB,SAAA,wBACUzB,KACA0C,aAEF,GAAR,+CACQxE,KAAK4B,cAAe,EACpB5B,KAAK2E,OAAOC,OAAO,iBAAkBrB,EAAKsB,MAC1C7E,KAAK8E,OAAOC,KAAK,gBAEzB,SACQ/E,KAAK4B,cAAe,EACpBoD,OAAMA,KAAKA,CACTX,KAAMA,QACNC,MAAOA,mBAIbhC,gBAEEtC,KAAK8E,OAAOC,KAAK,gBACjB/E,KAAKc,KAAK0C,KAAOxD,KAAKmE,YAAYrD,KAClCd,KAAKwB,MAAQxB,KAAKmE,YAAY3C,MAC9BxB,KAAKyB,OAASzB,KAAKmE,YAAY1C,SAGnCwD,UAEEjF,KAAKc,KAAK0C,KAAOxD,KAAKmE,YAAYrD,KAClCd,KAAKwB,MAAQxB,KAAKmE,YAAY3C,MAC9BxB,KAAKyB,OAASzB,KAAKmE,YAAY1C,SCzLmT,I,YCOlVyD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oBCkEA,GACbC,OAAQA,CAACA,OAAkBA,OAAsBA,QACjDC,WAAYA,CACVC,gBAEFC,MAAOA,CACLC,gBAAiBA,CACfC,KAAMA,OACNC,QAASA,KAAMA,CACb3D,GAAIA,EACJE,QAASA,GACTlB,KAAMA,GACN4E,MAAOA,GACPjE,OAAQA,GACRD,MAAOA,GACPS,aAAcA,GACdE,eAAgBA,EAChBC,aAAcA,EACduD,WAAYA,GACZ5E,WAAYA,KAGhB6E,UAAWA,CACTJ,KAAMA,QACNK,SAASA,IAGbtC,OACE,MAAO,CACL1C,SAAUA,CACRiB,GAAIA,EACJE,QAASA,GACTlB,KAAMA,GACN4E,MAAOA,GACPjE,OAAQA,GACRD,MAAOA,GACPS,aAAcA,GACdE,eAAgBA,EAChBC,aAAcA,EACduD,WAAYA,GACZ5E,WAAYA,GAEdY,UAAUA,EACVC,cAAcA,EACdR,IAAKA,YACLC,IAAKA,eAGTyE,MAAOA,CACLP,gBAAgBA,GACdvF,KAAKa,SAAW,IACtB,iBACWkF,KAITd,UACEjF,KAAKgG,aAEPnC,QAASA,CACPmC,YACEhG,KAAKa,SAASiB,GAAK9B,KAAKuF,gBAAgBzD,GACxC9B,KAAKa,SAASmB,QAAUhC,KAAKuF,gBAAgBvD,QAC7ChC,KAAKa,SAASC,KAAOd,KAAKuF,gBAAgBzE,KAC1Cd,KAAKa,SAAS6E,MAAQ1F,KAAKuF,gBAAgBG,MAC3C1F,KAAKa,SAASY,OAASzB,KAAKuF,gBAAgB9D,OAC5CzB,KAAKa,SAASW,MAAQxB,KAAKuF,gBAAgB/D,MAC3CxB,KAAKa,SAASoB,aAAejC,KAAKuF,gBAAgBtD,aAClDjC,KAAKa,SAASsB,eAAiBnC,KAAKuF,gBAAgBpD,eACpDnC,KAAKa,SAASuB,aAAepC,KAAKuF,gBAAgBnD,aAClDpC,KAAKa,SAAS8E,WAAa3F,KAAKuF,gBAAgBI,WAChD3F,KAAKa,SAASE,WAAaf,KAAKuF,gBAAgBxE,YAElDW,gBAEE1B,KAAK8E,OAAOmB,KAAK,iBAEnB3D,gBAEEtC,KAAK8E,OAAOC,KAAK,iBAEnB,gBAAgBmB,GACd,IACElG,KAAK4B,cAAe,EACpB,MAAM,KAAd2B,SAAA,kBAAAzB,OACQ,GAAoB,YAAhByB,EAAK4C,OACP,MAAM,IAAIC,MAAM7C,EAAK8C,SAEvBrG,KAAK4B,cAAe,EACpB5B,KAAKa,SAAW,IACxB,cACU8E,YAAYA,EACZvD,aAAcA,KAAKA,SAASA,aAAtCA,GAEA,SACQpC,KAAK4B,cAAe,EACpBoD,OAAMA,KAAKA,CACTX,KAAMA,QACNC,MAAOA,kBAETgC,QAAQA,IAAIA,QAASA,KAGzB,mBAAmBC,GACjB,IACEvG,KAAK4B,cAAe,EACpB,MAAM,KAAd2B,SAAA,qBAAAgD,gBACQ,GAAoB,YAAhBhD,EAAK4C,OACP,MAAM,IAAIC,MAAM7C,EAAK8C,SAEvBrG,KAAK4B,cAAe,EACpB5B,KAAKa,SAAW,IACxB,cACU8E,YAAYA,EACZvD,aAAcA,KAAKA,SAASA,aAAtCA,GAEA,SACQpC,KAAK4B,cAAe,EACpBoD,OAAMA,KAAKA,CACTX,KAAMA,QACNC,MAAOA,oBAETgC,QAAQA,IAAIA,QAASA,OC9MqT,ICO9U,EAAY,eACd,EACAxG,EACAuC,GACA,EACA,KACA,KACA,MAIa,S,6CClBf,gBACA,MAAMmE,EAAW,IAAMC,aAAaC,QAAQ,SAE7B,QAEbC,SAAQ,OAAET,IACR,OAAOU,OAAUC,IAAK,aAAYX,EAAU,CAC1CY,QAAS,CAAEC,cAAgB,UAASP,QAIxCQ,eAAc,OAAEd,IACd,OAAOU,OAAUC,IAAK,aAAYX,WAAiB,CACjDY,QAAS,CAAEC,cAAgB,UAASP,QAIxCS,gBAAe,OAAEf,IACf,OAAOU,OAAUC,IAAK,aAAYX,mBAAyB,CACzDY,QAAS,CAAEC,cAAgB,UAASP,QAIxCU,cAAa,OAAEhB,IACb,OAAOU,OAAUC,IAAK,aAAYX,UAAgB,CAChDY,QAAS,CAAEC,cAAgB,UAASP,QAIxCW,cAAa,OAAEjB,IACb,OAAOU,OAAUC,IAAK,aAAYX,cAAoB,CACpDY,QAAS,CAAEC,cAAgB,UAASP,QAIxCY,eAAc,OAAElB,IACd,OAAOU,OAAUC,IAAK,aAAYX,eAAqB,CACrDY,QAAS,CAAEC,cAAgB,UAASP,QAIxCa,iBAAgB,GAAEvF,EAAF,SAAM0C,IACpB,OAAOoC,OAAUU,IAAK,aAAYxF,EAAM0C,EAAU,CAChDsC,QAAS,CAAEC,cAAgB,UAASP,QAIxCe,UAAS,OAAErB,EAAF,QAAUlE,EAAV,KAAmBlB,EAAnB,MAAyB4E,EAAzB,SAAgC8B,EAAhC,cAA0CC,IACjD,OAAOb,OAAUU,IAAK,aAAYpB,SAAe,CAAElE,UAASlB,OAAM4E,QAAO8B,WAAUC,iBAAiB,CAClGX,QAAS,CAAEC,cAAgB,UAASP,QAIxCzE,WAAU,GAAED,IACV,OAAO8E,OAAUc,KAAK,mBAAoB,CAAE5F,MAAM,CAChDgF,QAAS,CAAEC,cAAgB,UAASP,QAIxC3E,cAAa,YAAE0E,IACb,OAAOK,OAAUe,OAAQ,mBAAkBpB,EAAe,CACxDO,QAAS,CAAEC,cAAgB,UAASP,QAIxCoB,aACE,OAAOhB,OAAUC,IAAI,gBAAiB,CACpCC,QAAS,CAAEC,cAAgB,UAASP,U,2CCnE1C,IAAI1G,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACO,MAAM,CAAC,gBAAkBX,EAAIwF,gBAAgB,UAAYxF,EAAI6F,aAAazF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWuC,MAAM,CAAC,CAAEiF,WAAY7H,KAAKmB,OAAOL,OAASf,EAAI+H,YAAaxH,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIS,QAAQuH,KAAK,CAAEjH,KAAM,cAAiBf,EAAIiI,OAAS,KAAM,CAACjI,EAAIY,GAAG,UAAUR,EAAG,MAAM,CAACE,YAAY,WAAWuC,MAAM,CAAC,CAAEiF,WAAY7H,KAAKmB,OAAOL,OAASf,EAAIkI,QAAS3H,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIS,QAAQuH,KAAK,CAAEjH,KAAM,UAAaf,EAAIiI,OAAS,KAAM,CAACjI,EAAIY,GAAG,aAAaR,EAAG,MAAM,CAACE,YAAY,UAAUuC,MAAM,CAAC,CAAEiF,WAAY7H,KAAKmB,OAAOL,OAASf,EAAImI,OAAQ5H,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIS,QAAQuH,KAAK,CAAEjH,KAAM,SAAYf,EAAIiI,OAAS,KAAM,CAACjI,EAAIY,GAAG,eAAeR,EAAG,gBAAgB,IACr2BkC,EAAkB,G,gDCiCP,GACb+C,WAAYA,CACV+C,iBAEF5E,OACE,MAAO,CACLqC,WAAWA,EACXoC,OAAQA,EACRF,UAAWA,YACXG,MAAOA,QACPC,KAAMA,OACN3C,gBAAiBA,CACfzD,GAAIA,EACJE,QAASA,GACTlB,KAAMA,GACN4E,MAAOA,GACPjE,OAAQA,GACRD,MAAOA,GACPS,aAAcA,GACdE,eAAgBA,EAChBC,aAAcA,EACdrB,WAAYA,KAIlB0C,SAAUA,IACZ,iCAEEI,QAASA,CACP,kBACE,IACE,MAAMuE,QAAiBC,EAAA,KAAS1B,QAAQ,CACtCT,OAAQA,KAAKA,YAAYA,KAG3BlG,KAAKuF,gBAAkB,CACrBzD,GAAIA,EAASA,KAAKA,GAClBE,QAASA,EAASA,KAAKA,QACvBlB,KAAMA,EAASA,KAAKA,KACpB4E,MAAOA,EAASA,KAAKA,MACrBjE,OAAQA,EAASA,KAAKA,OACtBD,MAAOA,EAASA,KAAKA,MACrBS,aAAcA,EAASA,KAAKA,aAC5BE,eAAgBA,EAASA,KAAKA,eAC9BC,aAAcA,EAASA,KAAKA,aAC5BrB,WAAYA,EAASA,KAAKA,YAEpC,SACQiE,OAAMA,KAAKA,CACTX,KAAMA,QACNC,MAAOA,uBAKfW,UACEjF,KAAKgG,aAGPF,MAAOA,CACL3B,YAAYA,GAGVnE,KAAKuF,gBAAkB,IAC7B,wBACWQ,MCnGuU,I,YCO9Ub,EAAY,eACd,EACApF,EACAuC,GACA,EACA,KACA,KACA,MAIa,aAAA6C,E","file":"js/chunk-e686dd98.73b17c97.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userCard-wrapper\"},[_c('div',{staticClass:\"title-wrapper\"},[_c('button',{on:{\"click\":function($event){return _vm.$router.back()}}},[_c('img',{staticClass:\"arrow\",attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"name-wrapper\"},[_vm._v(\" \"+_vm._s(_vm.userData.name)+\" \"),_c('div',{staticClass:\"tweetCount\"},[_vm._v(_vm._s(_vm.userData.tweetCount)+\"推文\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$route.name!==_vm.asd&&this.$route.name!==_vm.zxc),expression:\"this.$route.name!==asd&&this.$route.name!==zxc\"}],staticClass:\"user-wrapper\"},[_c('img',{staticClass:\"cover\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.userData.cover),\"alt\":\"\"}}),_c('img',{staticClass:\"avatar-big\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.userData.avatar),\"alt\":\"\"}}),(_vm.whichPage)?_c('button',{staticClass:\"btn btn-edit\",on:{\"click\":function($event){return _vm.showEditModal()}}},[_vm._v(\" 編輯個人資料 \")]):_c('div',{staticClass:\"otherButton\"},[_c('img',{staticClass:\"message\",attrs:{\"src\":\"\",\"alt\":\"\"}}),(_vm.isNotice)?_c('img',{staticClass:\"notice\",attrs:{\"src\":\"\",\"alt\":\"\"},on:{\"click\":function($event){_vm.isNotice = false}}}):_c('img',{staticClass:\"notice-active\",attrs:{\"src\":\"\",\"alt\":\"\"},on:{\"click\":function($event){_vm.isNotice = true}}}),(_vm.userData.isFollowed)?_c('button',{staticClass:\"btn btnDeleteFollow\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteFollow(_vm.userData.id)}}},[_vm._v(\" 正在追隨 \")]):_c('button',{staticClass:\"btn btnAddFollow\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.addFollow(_vm.userData.id)}}},[_vm._v(\" 追隨 \")])]),_c('div',{staticClass:\"information-wrapper\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.userData.name))]),_c('div',{staticClass:\"account\"},[_vm._v(_vm._s(_vm._f(\"accountTag\")(_vm.userData.account)))]),_c('div',{staticClass:\"introduce\"},[_vm._v(_vm._s(_vm.userData.introduction))]),_c('div',{staticClass:\"follow\"},[_c('router-link',{staticClass:\"strong\",attrs:{\"to\":{ name: 'followings', params: { id: _vm.userData.id } }}},[_vm._v(\" \"+_vm._s(_vm._f(\"numberFormatTC\")(_vm.userData.followingCount))+\"個 \")]),_vm._v(\" 追隨中 \"),_c('router-link',{staticClass:\"strong2\",attrs:{\"to\":{ name: 'followers', params: { id: _vm.userData.id } }}},[_vm._v(_vm._s(_vm._f(\"numberFormatTC\")(_vm.userData.follwerCount))+\"位 \")]),_vm._v(\" 追隨者 \")],1)])]),_c('UserCardEdit')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"userCardEdit\",\"classes\":\"userCardEdit-modal\",\"width\":600,\"height\":657,\"clickToClose\":false}},[_c('div',{staticClass:\"userCardEdit-wrapper\"},[_c('div',{staticClass:\"userCardEdit-head\"},[_c('img',{staticClass:\"cross-orange\",attrs:{\"alt\":\"\"},on:{\"click\":function($event){return _vm.hideEditModal()}}}),_c('h3',[_vm._v(\"編輯個人資料\")]),_c('button',{staticClass:\"btn active\",attrs:{\"type\":\"submit\",\"form\":\"userCardForm\",\"disabled\":_vm.isProcessing}},[_vm._v(\"儲存\")])]),_c('div',{staticClass:\"userCardEdit-body\"},[_c('form',{staticClass:\"form-wrapper\",attrs:{\"action\":\"\",\"id\":\"userCardForm\"},on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-image-wrapper\"},[_c('div',{staticClass:\"form-image-cover\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cover),expression:\"cover\"}],staticClass:\"cover\",attrs:{\"src\":_vm.cover}}),_c('label',{staticClass:\"camera\",attrs:{\"for\":\"cover\"}}),_c('input',{attrs:{\"type\":\"file\",\"id\":\"cover\",\"name\":\"cover\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.handleFileChange($event, 'cover')}}}),_c('img',{staticClass:\"cross-white cancel\",on:{\"click\":function($event){return _vm.clearCover()}}})]),_c('div',{staticClass:\"form-image-avatar\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.avatar),expression:\"avatar\"}],staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}}),_c('label',{staticClass:\"camera\",attrs:{\"for\":\"avatar\"}}),_c('input',{attrs:{\"type\":\"file\",\"id\":\"avatar\",\"name\":\"avatar\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.handleFileChange($event, 'avatar')}}})])]),_c('div',{staticClass:\"form-input-wrapper\"},[_c('label',{class:['label', { isInvalid: _vm.name.isInvalid }],attrs:{\"for\":\"name\"}},[_vm._v(\" 名稱 \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.name.text),expression:\"name.text\",modifiers:{\"trim\":true}}],attrs:{\"name\":\"name\",\"type\":\"text\",\"id\":\"name\"},domProps:{\"value\":(_vm.name.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.name, \"text\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"wordLimit-wrapper\"},[_c('h5',[_vm._v(_vm._s(_vm.worLimitMessage(_vm.name, 50)))]),_c('h5',[_vm._v(_vm._s(_vm.wordLimitCount(_vm.name, 50)))])]),_c('label',{class:['textarea', 'label', { isInvalid: _vm.introduction.isInvalid }],attrs:{\"for\":\"introduction\"}},[_vm._v(\"自我介紹 \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.introduction.text),expression:\"introduction.text\",modifiers:{\"trim\":true}}],attrs:{\"name\":\"introduction\",\"id\":\"introduction\"},domProps:{\"value\":(_vm.introduction.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.introduction, \"text\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"wordLimit-wrapper\"},[_c('h5',[_vm._v(_vm._s(_vm.worLimitMessage(_vm.introduction, 160)))]),_c('h5',[_vm._v(_vm._s(_vm.wordLimitCount(_vm.introduction, 160)))])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <modal\n    name=\"userCardEdit\"\n    classes=\"userCardEdit-modal\"\n    :width=\"600\" :height=\"657\"\n    :clickToClose=\"false\">\n    <div class=\"userCardEdit-wrapper\">\n      <div class=\"userCardEdit-head\">\n        <img class=\"cross-orange\" alt=\"\" @click=\"hideEditModal()\">\n        <h3>編輯個人資料</h3>\n        <button\n          class=\"btn active\"\n          type=\"submit\"\n          form=\"userCardForm\"\n          :disabled=\"isProcessing\">儲存</button>\n      </div>\n      <div class=\"userCardEdit-body\">\n        <form action=\"\" class=\"form-wrapper\"\n          id=\"userCardForm\" \n          @submit.prevent.stop=\"handleSubmit($event)\">\n          <div class=\"form-image-wrapper\">\n            <div class=\"form-image-cover\">\n              <img class=\"cover\" :src=\"cover\" v-show=\"cover\">\n              <label for=\"cover\" class=\"camera\"></label>\n              <input \n                type=\"file\"\n                id=\"cover\"\n                name=\"cover\"\n                accept=\"image/*\"\n                @change=\"handleFileChange($event, 'cover')\">\n              <img class=\"cross-white cancel\" @click=\"clearCover()\"/>\n            </div>\n            <div class=\"form-image-avatar\">\n              <img class=\"avatar\" :src=\"avatar\" v-show=\"avatar\">\n              <label for=\"avatar\" class=\"camera\"></label>\n              <input\n                type=\"file\"\n                id=\"avatar\"\n                name=\"avatar\"\n                accept=\"image/*\"\n                @change=\"handleFileChange($event, 'avatar')\">\n            </div>\n          </div>\n          <div class=\"form-input-wrapper\">\n            <!-- 輸入框 -->\n            <label for=\"name\" :class=\"['label', { isInvalid: name.isInvalid }]\">\n            名稱\n            <input \n              v-model.trim=\"name.text\"\n              name=\"name\"\n              type=\"text\"\n              id=\"name\">\n            </label>\n            <div class=\"wordLimit-wrapper\">\n              <h5>{{ worLimitMessage(name, 50) }}</h5>\n              <h5>{{ wordLimitCount(name, 50) }}</h5>\n            </div>\n            <!-- 輸入框 -->\n            <label for=\"introduction\"\n              :class=\"['textarea', 'label', { isInvalid: introduction.isInvalid }]\"\n            >自我介紹\n              <textarea\n                v-model.trim=\"introduction.text\"\n                name=\"introduction\"\n                id=\"introduction\">\n              </textarea>\n            </label>\n            <div class=\"wordLimit-wrapper\">\n              <h5>{{ worLimitMessage(introduction, 160) }}</h5>\n              <h5>{{ wordLimitCount(introduction, 160) }}</h5>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport usersAPI from \"../apis/users\"\nimport { Toast } from \"../utils/helpers\"\n\nexport default {\n  data() {\n    return {\n      // input 一個輸入框為一組\n      name: {\n        text: \"\",\n        isInvalid: false,\n      },\n      introduction: {\n        text: \"\",\n        isInvalid: false,\n      },\n      cover: \"\",\n      avatar: \"\",\n      isProcessing: false\n    }\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n    worLimitMessage() {\n      return (input, number) => {\n        if (input.text.length > number) {\n          input.isInvalid = true\n          return '字數超過上限！'\n        } else {\n          input.isInvalid = false\n          return \"\"\n        }\n      }\n    },\n    wordLimitCount() {\n      // 計算帶入input的字數\n      return (input, number) => {\n        if (input.text.length < 1) return \"\"\n        else return input.text.length + \"/\" + number\n      }\n    },\n  },\n  methods: {\n    handleFileChange($event, input) {\n      const { files } = $event.target\n      // 上傳視窗點擊「取消」 清空圖片連結\n      if (files.length === 0) {\n        if (input === 'cover') return this.cover = ''\n        else if (input === 'avatar') return this.avatar = ''\n      }\n      // 上傳視窗點擊「開啟」 將圖片連結放入 data 並讓使用者預覽\n      const imageURL = window.URL.createObjectURL(files[0])\n      if (input === 'cover') this.cover = imageURL\n      else if (input === 'avatar') this.avatar = imageURL\n    },\n    clearCover() {\n      this.cover = \"\"\n    },\n    async handleSubmit($event) {\n      try {\n        const id = this.currentUser.id\n        if (this.name.isInvalid || this.introduction.isInvalid) {\n          return Toast.fire({\n            icon: \"warning\",\n            title: \"字數超出上限！\"\n          })\n        }\n        if (this.name.text.length < 1) {\n          return Toast.fire({\n            icon: \"warning\",\n            title: \"請輸入使用名稱\"\n          })\n        }\n        const form = $event.target\n        const formData = new FormData(form)\n\n        this.isProcessing = true\n        const { statusText , data } = await usersAPI.editInformation({\n          id,\n          formData,\n        })\n        if(statusText !== \"OK\" || data.status !== \"success\") throw new Error()\n        this.isProcessing = false\n        this.$store.commit('setCurrentUser', data.user)\n        this.$modal.hide(\"userCardEdit\");\n\n      } catch (error) {\n        this.isProcessing = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法編輯資料，請稍後再試'\n        })\n      }\n    },\n    hideEditModal() {\n      // 關閉 modal\n      this.$modal.hide(\"userCardEdit\");\n      this.name.text = this.currentUser.name\n      this.cover = this.currentUser.cover\n      this.avatar = this.currentUser.avatar\n    },\n  },\n  created() {\n    // 將 vuex 使用者資料帶入、讓使用者預覽\n    this.name.text = this.currentUser.name \n    this.cover = this.currentUser.cover\n    this.avatar = this.currentUser.avatar\n  },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCardEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCardEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCardEdit.vue?vue&type=template&id=d6ec465e&\"\nimport script from \"./UserCardEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCardEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"userCard-wrapper\">\n    <div class=\"title-wrapper\">\n      <button @click=\"$router.back()\">\n        <img alt=\"\" class=\"arrow\" />\n      </button>\n      <div class=\"name-wrapper\">\n        {{ userData.name }}\n        <div class=\"tweetCount\">{{ userData.tweetCount }}推文</div>\n      </div>\n    </div>\n    <div class=\"user-wrapper\" v-show=\"this.$route.name!==asd&&this.$route.name!==zxc\">\n      <img :src=\"userData.cover | emptyImage\" alt=\"\" class=\"cover\" />\n      <img :src=\"userData.avatar | emptyImage\" alt=\"\" class=\"avatar-big\" />\n      <button class=\"btn btn-edit\" v-if=\"whichPage\" @click=\"showEditModal()\">\n        編輯個人資料\n      </button>\n      <div class=\"otherButton\" v-else>\n        <img src=\"\" alt=\"\" class=\"message\" />\n        <img\n          src=\"\"\n          alt=\"\"\n          class=\"notice\"\n          v-if=\"isNotice\"\n          @click=\"isNotice = false\"\n        />\n        <img\n          src=\"\"\n          alt=\"\"\n          class=\"notice-active\"\n          v-else\n          @click=\"isNotice = true\"\n        />\n        <button\n          class=\"btn btnDeleteFollow\"\n          v-if=\"userData.isFollowed\"\n          @click=\"deleteFollow(userData.id)\"\n          :disabled=\"isProcessing\"\n        >\n          正在追隨\n        </button>\n        <button\n          class=\"btn btnAddFollow\"\n          v-else\n          @click=\"addFollow(userData.id)\"\n          :disabled=\"isProcessing\"\n        >\n          追隨\n        </button>\n      </div>\n      <div class=\"information-wrapper\">\n        <div class=\"name\">{{ userData.name }}</div>\n        <div class=\"account\">{{ userData.account | accountTag }}</div>\n        <div class=\"introduce\">{{ userData.introduction }}</div>\n        <div class=\"follow\">\n          <router-link\n            :to=\"{ name: 'followings', params: { id: userData.id } }\"\n            class=\"strong\"\n          >\n            {{ userData.followingCount | numberFormatTC }}個\n          </router-link>\n          追隨中\n          <router-link\n            :to=\"{ name: 'followers', params: { id: userData.id } }\"\n            class=\"strong2\"\n            >{{ userData.follwerCount | numberFormatTC }}位\n          </router-link>\n          追隨者\n        </div>\n      </div>\n    </div>\n    <!-- Modal -->\n    <UserCardEdit />\n    <!-- Modal -->\n  </div>\n</template>\n<script>\nimport UserCardEdit from \"../components/UserCardEdit.vue\";\nimport { accountTagFilter } from \"./../utils/mixins\";\nimport { numberFormatTCFilter } from \"./../utils/mixins\";\nimport { emptyImageFilter } from \"../utils/mixins\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"../utils/helpers\";\n\nexport default {\n  mixins: [accountTagFilter, numberFormatTCFilter, emptyImageFilter],\n  components: {\n    UserCardEdit,\n  },\n  props: {\n    currentUserData: {\n      type: Object,\n      default: () => ({\n        id: 0,\n        account: \"\",\n        name: \"\",\n        email: \"\",\n        avatar: \"\",\n        cover: \"\",\n        introduction: \"\",\n        followingCount: 0,\n        follwerCount: 0,\n        isFollowed: \"\",\n        tweetCount: 0,\n      }),\n    },\n    whichPage: {\n      type: Boolean,\n      require: true,\n    },\n  },\n  data() {\n    return {\n      userData: {\n        id: 0,\n        account: \"\",\n        name: \"\",\n        email: \"\",\n        avatar: \"\",\n        cover: \"\",\n        introduction: \"\",\n        followingCount: 0,\n        follwerCount: 0,\n        isFollowed: \"\",\n        tweetCount: 0,\n      },\n      isNotice: true,\n      isProcessing: false,\n      asd: \"followers\", //判斷用\n      zxc: \"followings\", //判斷用\n    };\n  },\n  watch: {\n    currentUserData(newValue) {\n      this.userData = {\n        ...this.userData,\n        ...newValue,\n      };\n    },\n  },\n  created() {\n    this.fetchUser();\n  },\n  methods: {\n    fetchUser() {\n      this.userData.id = this.currentUserData.id;\n      this.userData.account = this.currentUserData.account;\n      this.userData.name = this.currentUserData.name;\n      this.userData.email = this.currentUserData.email;\n      this.userData.avatar = this.currentUserData.avatar;\n      this.userData.cover = this.currentUserData.cover;\n      this.userData.introduction = this.currentUserData.introduction;\n      this.userData.followingCount = this.currentUserData.followingCount;\n      this.userData.follwerCount = this.currentUserData.follwerCount;\n      this.userData.isFollowed = this.currentUserData.isFollowed;\n      this.userData.tweetCount = this.currentUserData.tweetCount;\n    },\n    showEditModal() {\n      // 打開 modal\n      this.$modal.show(\"userCardEdit\");\n    },\n    hideEditModal() {\n      // (預設)關閉 modal\n      this.$modal.hide(\"userCardEdit\");\n    },\n    async addFollow(userId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.addFollow({ id: userId });\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.isProcessing = false;\n        this.userData = {\n          ...this.userData,\n          isFollowed: true,\n          follwerCount: this.userData.follwerCount+1,\n        };\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法追隨使用者，請稍後再試\",\n        });\n        console.log(\"error\", error);\n      }\n    },\n    async deleteFollow(followingId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.deleteFollow({ followingId });\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        this.isProcessing = false;\n        this.userData = {\n          ...this.userData,\n          isFollowed: false,\n          follwerCount: this.userData.follwerCount-1,\n        };\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取消追隨使用者，請稍後再試\",\n        });\n        console.log(\"error\", error);\n      }\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCard.vue?vue&type=template&id=32efb684&\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from './../utils/helpers'\nconst getToken = () => localStorage.getItem('token')\n\nexport default {\n  // 查看指定使用者的資料\n  getUser({ userId }) {\n    return apiHelper.get(`api/users/${userId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 查看指定使用者的推文\n  getUserTweets({ userId }) {\n    return apiHelper.get(`api/users/${userId}/tweets`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 查看指定使用者的回覆推文\n  getUserReplies({ userId }) {\n    return apiHelper.get(`api/users/${userId}/replied_tweets`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 查看指定使用者的喜歡推文\n  getUserLikes({ userId }) {\n    return apiHelper.get(`api/users/${userId}/likes`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 查看指定使用者的追隨者\n  getFollowers({ userId }) {\n    return apiHelper.get(`api/users/${userId}/followers`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 查看指定使用者的正在跟隨\n  getFollowings({ userId }) {\n    return apiHelper.get(`api/users/${userId}/followings`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 修改個人基本資料\n  editInformation({ id, formData }) {\n    return apiHelper.put(`api/users/${id}`, formData, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 修改個人帳號密碼\n  signEdit({ userId, account, name, email, password, checkPassword }) {\n    return apiHelper.put(`api/users/${userId}/edit`, { account, name, email, password, checkPassword }, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 追隨\n  addFollow({ id }) {\n    return apiHelper.post('/api/followships', { id }, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  // 取消追隨\n  deleteFollow({ followingId }) {\n    return apiHelper.delete(`api/followships/${followingId}`, {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n  //取得熱門使用者\n  getTopUser() {\n    return apiHelper.get(\"api/users/top\", {\n      headers: { Authorization: `Bearer ${getToken()}` }\n    })\n  },\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"middle-container\"},[_c('UserCard',{attrs:{\"currentUserData\":_vm.currentUserData,\"whichPage\":_vm.whichPage}}),_c('div',{staticClass:\"switchTabs\"},[_c('div',{staticClass:\"tweetTab\",class:[{ activeTabs: this.$route.name === _vm.selfTweet }],on:{\"click\":function($event){_vm.$router.push({ name: 'selfTweet' }), (_vm.tabNow = 1)}}},[_vm._v(\" 推文 \")]),_c('div',{staticClass:\"replyTab\",class:[{ activeTabs: this.$route.name === _vm.reply }],on:{\"click\":function($event){_vm.$router.push({ name: 'reply' }), (_vm.tabNow = 2)}}},[_vm._v(\" 推文與回覆 \")]),_c('div',{staticClass:\"likeTab\",class:[{ activeTabs: this.$route.name === _vm.like }],on:{\"click\":function($event){_vm.$router.push({ name: 'like' }), (_vm.tabNow = 3)}}},[_vm._v(\" 喜歡的內容 \")])]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"middle-container\">\n    <UserCard :currentUserData=\"currentUserData\" :whichPage=\"whichPage\" />\n    <div class=\"switchTabs\">\n      <div\n        class=\"tweetTab\"\n        :class=\"[{ activeTabs: this.$route.name === selfTweet }]\"\n        @click=\"$router.push({ name: 'selfTweet' }), (tabNow = 1)\"\n      >\n        推文\n      </div>\n      <div\n        class=\"replyTab\"\n        :class=\"[{ activeTabs: this.$route.name === reply }]\"\n        @click=\"$router.push({ name: 'reply' }), (tabNow = 2)\"\n      >\n        推文與回覆\n      </div>\n      <div\n        class=\"likeTab\"\n        :class=\"[{ activeTabs: this.$route.name === like }]\"\n        @click=\"$router.push({ name: 'like' }), (tabNow = 3)\"\n      >\n        喜歡的內容\n      </div>\n    </div>\n    <router-view />\n  </div>\n</template>\n<script>\nimport UserCard from \"./../components/UserCard\";\nimport usersAPI from \"./../apis/users\";\nimport { Toast } from \"../utils/helpers\";\nimport { mapState } from \"vuex\";\nexport default {\n  components: {\n    UserCard,\n  },\n  data() {\n    return {\n      whichPage: true, //true代表個人false代表他人\n      tabNow: 1, //1推文 2回復 3喜歡\n      selfTweet: \"selfTweet\", //判斷用\n      reply: \"reply\", //判斷用\n      like: \"like\", //判斷用\n      currentUserData: {\n        id: 0,\n        account: \"\",\n        name: \"\",\n        email: \"\",\n        avatar: \"\",\n        cover: \"\",\n        introduction: \"\",\n        followingCount: 0,\n        follwerCount: 0,\n        tweetCount: 0,\n      },\n    };\n  },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const response = await usersAPI.getUser({\n          userId: this.currentUser.id,\n        });\n\n        this.currentUserData = {\n          id: response.data.id,\n          account: response.data.account,\n          name: response.data.name,\n          email: response.data.email,\n          avatar: response.data.avatar,\n          cover: response.data.cover,\n          introduction: response.data.introduction,\n          followingCount: response.data.followingCount,\n          follwerCount: response.data.follwerCount,\n          tweetCount: response.data.tweetCount,\n        };\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得使用者資料，請稍後再試\",\n        });\n      }\n    },\n  },\n  created() {\n    this.fetchUser();\n  },\n\n  watch: {\n    currentUser(newValue) {\n      // 監控 UserCardEdit 是否修改 vuex 資料\n      // 將新資料覆蓋進 data 中渲染畫面\n      this.currentUserData = {\n        ...this.currentUserData,\n        ...newValue,\n      };\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSelf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSelf.vue?vue&type=template&id=23ef14ca&\"\nimport script from \"./UserSelf.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSelf.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}